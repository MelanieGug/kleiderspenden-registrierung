<!doctype html>
<html lang="de">
<header class="border-bottom bg-white">
  <nav class="navbar navbar-expand-lg navbar-light container py-2">
    <a class="navbar-brand d-flex align-items-center gap-2" href="index.html">
      <svg width="28" height="28" viewBox="0 0 24 24" aria-hidden="true">
        <path fill="currentColor" d="M12 21s-7-4.35-7-10a4 4 0 0 1 7-2a4 4 0 0 1 7 2c0 5.65-7 10-7 10z"/>
      </svg>
      <span class="fw-semibold">Kleiderspenden-Portal</span>
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="nav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html#registrierung">Registrierung</a></li>
        <li class="nav-item"><a class="nav-link" href="index.html#info">Info</a></li>
      </ul>
    </div>
  </nav>
</header>

<body class="bg-light">
  <!-- HEADER -->
  <header class="border-bottom bg-white">
    <nav class="navbar navbar-light container py-2">
      <a class="navbar-brand d-flex align-items-center gap-2" href="index.html">
        <svg width="28" height="28" viewBox="0 0 24 24" aria-hidden="true">
          <path fill="currentColor" d="M12 21s-7-4.35-7-10a4 4 0 0 1 7-2a4 4 0 0 1 7 2c0 5.65-7 10-7 10z"/>
        </svg>
        <span class="fw-semibold">Kleiderspenden-Portal</span>
      </a>
    </nav>
  </header>

  <!-- CONTENT -->
  <main class="container my-4">
    <div class="row justify-content-center">
      <div class="col-12 col-lg-8">
        <div class="card shadow-sm">
          <div class="card-body p-4">
            <h1 class="h4 mb-3">Registrierung erfolgreich</h1>
            <p class="text-muted mb-4">Hier ist die Bestätigung deiner Kleiderspende.</p>

            <div class="list-group">
              <div class="list-group-item">
                <div class="fw-semibold">Art der Kleidung</div>
                <div id="outClothing"></div>
              </div>
              <div class="list-group-item">
                <div class="fw-semibold">Krisengebiet</div>
                <div id="outCrisis"></div>
              </div>
              <div class="list-group-item">
                <div class="fw-semibold">Datum & Uhrzeit</div>
                <div id="outTime"></div>
              </div>
              <div class="list-group-item">
                <div class="fw-semibold">Ort</div>
                <div id="outLocation"></div>
              </div>
            </div>

            <div class="d-flex gap-2 mt-4">
              <a class="btn btn-primary" href="index.html" id="newBtn">Neue Registrierung</a>
            </div>

            <p class="text-muted small mt-3 mb-0">
              Hinweis: Diese Seite verwendet sessionStorage (Daten bleiben nur im Browser für diese Sitzung).
            </p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="border-top bg-white">
    <div class="container py-3 d-flex flex-column flex-md-row justify-content-between gap-2">
      <span class="text-muted small">© 2026 Kleiderspenden-Verein (fiktiv)</span>
<a class="text-muted small text-decoration-none" href="impressum.html">Impressum</a>
<span class="text-muted small">·</span>
<a class="text-muted small text-decoration-none" href="datenschutz.html">Datenschutz</a>
<span class="text-muted small">·</span>
<a class="text-muted small text-decoration-none" href="hinweise.html">Rechtliche Hinweise</a>
    </div>
  </footer>

  <script>
    const raw = sessionStorage.getItem("donationData");
    const data = raw ? JSON.parse(raw) : null;

    // Ausgabe-Elemente
    const outClothing = document.getElementById("outClothing");
    const outCrisis = document.getElementById("outCrisis");
    const outTime = document.getElementById("outTime");
    const outLocation = document.getElementById("outLocation");

    if (!data) {
      outClothing.textContent = "Keine Daten gefunden. Bitte registriere zuerst eine Spende.";
      outCrisis.textContent = "-";
      outTime.textContent = "-";
      outLocation.textContent = "-";
    } else {
      // Wichtig: textContent statt innerHTML (sicherer gegen Code-Injektion)
      outClothing.textContent = data.clothingType;
      outCrisis.textContent = data.crisisRegion;

      const d = new Date(data.timestamp);
      outTime.textContent = d.toLocaleString("de-DE", { dateStyle: "medium", timeStyle: "short" });

      outLocation.textContent = data.location;
    }

    document.getElementById("newBtn").addEventListener("click", () => {
      sessionStorage.removeItem("donationData");
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
